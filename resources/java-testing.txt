ngOnInit(): void {
  // 1. Combine the metadata setup (cols/groupings) with the ID listener
  this.analyticalReportService.currentReportId$
    .pipe(
      takeUntil(this.destroying$),
      // switchMap ensures that if ID changes rapidly, previous requests are cancelled
      switchMap(id => {
        this.reportId = id;
        console.log('State Change Detected: New ID is', id);

        // Fetch columns and groupings ONLY if you haven't already,
        // or every time if they depend on reportType
        return forkJoin({
          cols: makeHttpGetRequest(this.httpClient, './api/report/column-mapping', {
            params: { reportType: this.reportType }
          }),
          groupings: makeHttpGetRequest(this.httpClient, './api/report/grouping-attr', {
            params: { reportType: this.reportType }
          })
        });
      })
    )
    .subscribe({
      next: (response: any) => {
        // 2. Set the grid definitions
        this.pivotGroupColDefs = this.gridHelperService.getColModelByReportType(
          response.groupings,
          response.cols
        );

        // 3. Now load the specific report data
        this.loadReport();
      },
      error: (err) => errorHandler(err)
    });
}